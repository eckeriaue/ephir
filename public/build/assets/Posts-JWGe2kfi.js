import{d as x,r as f,o as n,c as i,a as b,n as k,g as P,m as h,b as m,w as j,e as C,F as V,u,f as $,h as B,i as v,j as c,k as p,l as g,t as T,p as A,q as M,s as N,_ as q}from"./app-wOSmkzKC.js";import{P as w,_ as S,a as D}from"./InputLabel-odPwA9hb.js";import{e as E,i as L}from"./auth-_i2ffA1P.js";const O=x({inheritAttrs:!1,__name:"XDialog",setup(y,{expose:_}){const o=f(!1),s=(e=!u(o))=>o.value=e;function l(){s(!0),$(()=>{var e,t;(t=(e=u(a))==null?void 0:e.showModal)==null||t.call(e)})}function r(){var e,t;(t=(e=u(a))==null?void 0:e.close)==null||t.call(e),$(()=>{s(!1)})}const a=f();return _({open:l,close:r,toggle:s}),(e,t)=>(n(),i(V,null,[b(e.$slots,"project",k(P({open:l,close:r,toggle:s}))),o.value?(n(),i("dialog",h({key:0,ref_key:"dialog",ref:a},e.$attrs,{onClick:t[1]||(t[1]=d=>r())}),[m("div",{onClick:t[0]||(t[0]=j(()=>{},["stop"]))},[b(e.$slots,"default",k(P({open:l,close:r,toggle:s})))])],16)):C("",!0)],64))}}),z=["type"],F={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(y){return(_,o)=>(n(),i("button",{type:y.type,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},[b(_.$slots,"default")],8,z))}},I={class:"mt-4"},R={class:"inline-flex mt-8 items-center gap-x-2"},U=x({inheritAttrs:!1,__name:"CreatePost",emits:["create"],setup(y,{emit:_}){const o=f(""),s=f(""),l=B(()=>u(o).length>0&&u(s).length>0);async function r(a){a.submitter.value,o.value="",s.value=""}return(a,e)=>(n(),v(u(O),{class:"invisible opacity-0 transition-all open:visible open:opacity-100 rounded-md"},{project:c(({open:t})=>[p(w,h(a.$attrs,{class:"text-center",onClick:d=>t()}),{default:c(()=>[g(" Создать Пост ")]),_:2},1040,["onClick"])]),default:c(()=>[m("form",{method:"dialog",name:"createPost",onSubmit:r,class:"max-w-full md:w-[560px] min-w-0 xl:min-w-96 px-5 py-4"},[p(S,null,{default:c(()=>[g(" Заголовок статьи ")]),_:1}),p(D,{name:"title",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t)},null,8,["modelValue"]),m("fieldset",I,[p(S,null,{default:c(()=>[g(" Содержимое ")]),_:1}),m("p",{onInput:e[1]||(e[1]=t=>s.value=t.target.innerText),contenteditable:"true",class:"mt-2 border-2 border-transparent py-2 px-3 rounded-xl duration-[.25s] text-[13.3px] transition-all outline-none focus:placeholder:opacity-0 placeholder:transition-all focus:border-b-lime-600 text-[rgb(44,62,80)] focus:bg-[rgb(240,243,244)] bg-[rgb(241,244,245)] min-h-16",role:"textbox"},T(s.value),33)]),m("fieldset",R,[p(w,{disabled:!l.value,value:"save",type:"submit"},{default:c(()=>[g(" сохранить ")]),_:1},8,["disabled"]),p(F,{value:"cancel",type:"submit"},{default:c(()=>[g(" отменить ")]),_:1})])],32)]),_:1}))}}),X={key:1},G={key:2},H={key:3,class:"flex items-center justify-center"},J=m("p",{classs:"text-xs text-gray-500"}," Здесь пока ничего нет... ",-1),K=[J],Q=x({__name:"Posts",props:{modelValue:{}},emits:["update:modelValue"],setup(y,{emit:_}){const o=N(()=>q(()=>import("./SinglePost-JeZWREqh.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),s=f(),l=f(!0);async function r(a=0,e=10){return l.value=!0,E("/posts").get().json().query("offset",a.toString()).query("limit",e.toString()).dispatch().then(t=>s.value=t).finally(()=>l.value=!1)}return A(r),(a,e)=>{var t;return n(),i("section",null,[u(L)?(n(),v(U,{key:0,onCreate:e[0]||(e[0]=d=>s.value.unshift(d)),class:"w-full my-4"})):C("",!0),l.value?(n(),i("p",X," Загрузка... ")):(t=s.value)!=null&&t.length?(n(),i("section",G,[(n(!0),i(V,null,M(s.value,d=>(n(),v(u(o),h({key:d.id},d),null,16))),128))])):(n(),i("section",H,K))])}}}),ee=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{ee as P,F as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/SinglePost-JeZWREqh.js","assets/app-wOSmkzKC.js","assets/app-i7QoRklM.css","assets/InputLabel-odPwA9hb.js","assets/_plugin-vue_export-helper-x3n3nnut.js","assets/auth-_i2ffA1P.js","assets/SinglePost-zwqzxYOS.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
