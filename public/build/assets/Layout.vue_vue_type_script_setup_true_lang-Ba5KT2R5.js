import{A as E}from"./ApplicationLogo-Ww_J_n7V.js";import{d as N,s as F,k as b,u as l,r as i,o as p,c as y,b as s,a as e,w as t,f as d,v as I,T as S,l as x,g as L,F as P,q,e as z,p as H,n as C,x as j,i as V,t as M}from"./app-DB6wgYxc.js";const O={class:"mt-2"},A={class:"mb-1"},D=N({__name:"MarkdownEditor",props:{modelValue:{default:""},modelModifiers:{}},emits:["update:modelValue"],setup($){const[r]=F($,"modelValue"),a=b(),n={href:b(""),mask:b(""),isVisible:b(!1),insert(){const m=l(this.mask)||l(this.href),o=l(this.href);this.mask.value="",this.href.value="",this.isVisible.value=!1,a.value.appendChild(Object.assign(document.createElement("a"),{classList:"editor-link",textContent:m,target:"_blank",href:o})),r.value=l(a).innerHTML,g()}};function g(){a.value.appendChild(document.createTextNode("¬†"))}return(m,o)=>{const c=i("kit-button"),h=i("kit-dropdown-trigger"),k=i("kit-input"),w=i("kit-command"),u=i("kit-dropdown-content"),v=i("kit-dropdown-menu");return p(),y("div",O,[s("div",A,[e(v,{open:n.isVisible.value,"onUpdate:open":o[3]||(o[3]=_=>n.isVisible.value=_)},{default:t(()=>[e(h,{"as-child":""},{default:t(()=>[e(c,{type:"button",variant:"outline"},{default:t(()=>[d("üîó")]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(w,{as:"fieldset",onKeypress:o[2]||(o[2]=I(_=>n.insert(),["enter"])),class:"space-y-1 p-1"},{default:t(()=>[e(k,{placeholder:"–¢–µ–∫—Å—Ç",modelValue:n.mask.value,"onUpdate:modelValue":o[0]||(o[0]=_=>n.mask.value=_)},null,8,["modelValue"]),e(k,{required:"",placeholder:"https://example.com",modelValue:n.href.value,"onUpdate:modelValue":o[1]||(o[1]=_=>n.href.value=_)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["open"])]),s("div",{class:"min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",id:"postContent",ref_key:"content",ref:a,onInput:o[4]||(o[4]=_=>r.value=_.target.innerHTML),contenteditable:"plaintext-only"},null,544)])}}}),K={class:"mt-4 max-w-full"},R={key:0,class:"w-full mt-6"},G={class:"grid grid-cols-4 gap-4 min-h-40"},J={class:"gap-x-2 flex justify-end mt-4"},Q=N({__name:"CreatePostModal",setup($){const r=b(!1),a=S({title:"",content:"",photos:[]}),n=b([]);function g(m){const o=m.target;o&&o instanceof HTMLInputElement&&o.files&&0 in o.files&&(a.photos.push(o.files[0]),n.value.push(URL.createObjectURL(o.files[0])))}return(m,o)=>{var U;const c=i("kit-button"),h=i("kit-dialog-trigger"),k=i("kit-dialog-title"),w=i("kit-dialog-description"),u=i("kit-label"),v=i("kit-input"),_=i("kit-dialog-content"),T=i("kit-dialog");return(U=m.$page.props.auth)!=null&&U.user?(p(),x(T,{key:0,open:r.value,"onUpdate:open":o[4]||(o[4]=f=>r.value=f)},{default:t(()=>[e(h,{"as-child":""},{default:t(()=>[e(c,null,{default:t(()=>[d(" ü™∂ ")]),_:1})]),_:1}),e(_,{class:"overflow-y-scroll max-h-[calc(100dvh_-_64px)]"},{default:t(()=>[e(k,null,{default:t(()=>[d(" –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç ")]),_:1}),e(w,null,{default:t(()=>[d("–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –æ —á–µ–º –≤—ã –¥—É–º–∞–µ—Ç–µ ")]),_:1}),s("form",{class:"min-w-fit",onSubmit:o[3]||(o[3]=z(f=>(l(a).post(m.route("posts.create"),{onSuccess(){l(a).reset("content"),l(a).reset("photos"),l(a).reset("title")}}),r.value=!1),["prevent"]))},[e(u,{for:"postName"},{default:t(()=>[d(" –ù–∞–∑–≤–∞–Ω–∏–µ ")]),_:1}),e(v,{modelValue:l(a).title,"onUpdate:modelValue":o[0]||(o[0]=f=>l(a).title=f),id:"postName",class:"mt-2"},null,8,["modelValue"]),s("div",K,[e(u,{for:"postContent"},{default:t(()=>[d(" –°–æ–¥–µ—Ä–∂–∏–º–æ–µ ")]),_:1}),e(D,{modelValue:l(a).content,"onUpdate:modelValue":o[1]||(o[1]=f=>l(a).content=f)},null,8,["modelValue"]),e(u,{for:"picture",class:"mt-2 inline-block"},{default:t(()=>[d(" –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ ")]),_:1}),e(v,{id:"picture",onChange:g,type:"file"}),n.value.length>0?(p(),y("div",R,[s("div",G,[(p(!0),y(P,null,q(n.value,(f,B)=>(p(),y("div",{key:f+B,style:H({backgroundImage:`url('${f}')`}),class:"bg-cover w-full rounded aspect-square"},null,4))),128))])])):L("",!0)]),s("div",J,[e(c,{type:"button",onClick:o[2]||(o[2]=f=>(r.value=!1,l(a).title="",l(a).content="")),variant:"secondary"},{default:t(()=>[d("–û—Ç–º–µ–Ω–∏—Ç—å")]),_:1}),e(c,{type:"submit",disabled:l(a).title.length<1||l(a).content.length<1||l(a).processing},{default:t(()=>[d("–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")]),_:1},8,["disabled"])])],32)]),_:1})]),_:1},8,["open"])):L("",!0)}}}),W={class:"min-h-screen bg-gray-100"},X={class:"bg-white border-b border-gray-100 sticky z-10 top-0"},Y={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Z={class:"flex justify-between h-16"},ee={class:"flex"},te={class:"shrink-0 flex items-center"},oe=s("div",{class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},null,-1),se={class:"hidden sm:flex sm:items-center sm:ms-6"},ne={class:"ms-3 relative"},le={class:"-me-2 flex items-center sm:hidden"},ae={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},ie=s("div",{class:"pt-2 pb-3 space-y-1"},null,-1),de={class:"pt-4 pb-1 border-t border-gray-200"},re={class:"px-4"},ue={class:"font-medium text-base text-gray-800"},ce={class:"font-medium text-sm text-gray-500"},pe={key:0,class:"bg-white sticky inset-0 shadow"},me={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},ge=N({__name:"Layout",setup($){const r=b(!1),a=S({});return(n,g)=>{const m=i("kit-button"),o=i("kit-dropdown-trigger"),c=i("kit-dropdown-menu-item"),h=i("kit-command"),k=i("kit-dropdown-content"),w=i("kit-dropdown-menu");return p(),y("div",null,[s("div",W,[s("nav",X,[s("div",Y,[s("div",Z,[s("div",ee,[s("div",te,[e(l(V),{href:n.route("posts")},{default:t(()=>[e(E,{class:"block h-9 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),oe]),s("div",se,[s("div",ne,[e(Q),e(w,null,{default:t(()=>[e(o,null,{default:t(()=>[n.$page.props.auth.user?(p(),x(m,{key:0,variant:"ghost",type:"button",class:"font-medium text-base text-gray-800"},{default:t(()=>{var u;return[d(M((u=n.$page.props.auth.user)==null?void 0:u.name),1)]}),_:1})):(p(),x(m,{key:1,variant:"ghost",type:"button",class:"font-medium text-base text-gray-800"},{default:t(()=>[d(" –ì–æ—Å—Ç—å ")]),_:1}))]),_:1}),e(k,{align:"end",class:"w-56"},{default:t(()=>[n.$page.props.auth.user?(p(),x(h,{key:0,class:"mt-3 space-y-1"},{default:t(()=>[e(c,{as:l(V),href:n.route("profile.edit")},{default:t(()=>[d(" üë§ –ü—Ä–æ—Ñ–∏–ª—å ")]),_:1},8,["as","href"]),e(c,{onClick:g[0]||(g[0]=u=>l(a).post(n.route("logout")))},{default:t(()=>[d(" üîì –í—ã–π—Ç–∏ ")]),_:1})]),_:1})):(p(),x(h,{key:1},{default:t(()=>[e(c,{as:l(V),href:n.route("login")},{default:t(()=>[d(" üîë –í–æ–π—Ç–∏ ")]),_:1},8,["as","href"]),e(c,{as:l(V),href:n.route("register")},{default:t(()=>[d(" ü™™ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ")]),_:1},8,["as","href"])]),_:1}))]),_:1})]),_:1})])]),s("div",le,[s("button",{onClick:g[1]||(g[1]=u=>r.value=!r.value),class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"},[(p(),y("svg",ae,[s("path",{class:C({hidden:r.value,"inline-flex":!r.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),s("path",{class:C({hidden:!r.value,"inline-flex":r.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),s("div",{class:C([{block:r.value,hidden:!r.value},"sm:hidden"])},[ie,s("div",de,[e(w,null,{default:t(()=>[e(o,{"as-child":""},{default:t(()=>{var u,v;return[s("div",re,[s("div",ue,M((u=n.$page.props.auth.user)==null?void 0:u.name),1),s("div",ce,M((v=n.$page.props.auth.user)==null?void 0:v.email),1)])]}),_:1}),e(k,{class:"w-56"},{default:t(()=>[e(h,{class:"mt-3 space-y-1"},{default:t(()=>[e(c,null,{default:t(()=>[d(" –ü—Ä–æ—Ñ–∏–ª—å ")]),_:1}),e(c,null,{default:t(()=>[d(" –í—ã–π—Ç–∏ ")]),_:1})]),_:1})]),_:1})]),_:1})])],2)]),n.$slots.header?(p(),y("header",pe,[s("div",me,[j(n.$slots,"header")])])):L("",!0),s("main",null,[j(n.$slots,"default")])])])}}});export{ge as _};
