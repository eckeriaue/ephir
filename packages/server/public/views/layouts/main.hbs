<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="../styles/checkbox.css">
  <link rel="stylesheet" href="../styles/label.css">
  <link rel="stylesheet" href="../styles/button.css">
  <link rel="stylesheet" href="../styles/dialog.css">
  <link rel="stylesheet" href="../styles/input.css">
  <link rel="stylesheet" href="../fonts/style.css">
  <link rel="stylesheet" href="../styles/style.css">

  <style>
  * {
    font-family: 'Sf Pro Regular';
  }
  </style>
  <script src="https://unpkg.com/htmx.org@2.0.3/dist/htmx.js" integrity="sha384-BBDmZzVt6vjz5YbQqZPtFZW82o8QotoM7RUp5xOxV3nSJ8u2pSdtzFAbGKzTlKtg" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/hyperscript.org@0.9.13"></script>



  </script>
  <script type="importmap">
    {
      "imports": {
        "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.prod.js"
      }
    }
  </script>
  <script type="module">
    import { defineCustomElement } from 'vue'
    import { WcSelectmenu, WcSelectmenuTrigger, WcListitem, WcSelectmenuSheet, WcListbox, WcSelectmenuIndicator } from '../../wc/main.js'
    customElements.define('wc-selectmenu', defineCustomElement(WcSelectmenu))
    customElements.define('wc-selectmenu-trigger', defineCustomElement(WcSelectmenuTrigger))
    customElements.define('wc-selectmenu-sheet', defineCustomElement(WcSelectmenuSheet))
    customElements.define('wc-selectmenu-indicator', defineCustomElement(WcSelectmenuIndicator))
    customElements.define('wc-listbox', defineCustomElement(WcListbox))
    customElements.define('wc-listitem', defineCustomElement(WcListitem))
  </script>
</head>
<body>
  <header class="flex items-center justify-between px-4 py-2 h-16 top-0 sticky shadow bg-white">
    <span class="text-3xl text-center inline-block font-medium">ingbook</span>
    {{#if user}}
    <div class="flex items-center gap-x-2">
      <button
        class="kit-button secondary"
        data-hx-get="/templates/createPost"
        data-hx-target="body"
        data-hx-swap="beforeend"
        type="button"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          class="size-4"
        >
          <path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z" />
        </svg>
      </button>
      <wc-selectmenu>
        <wc-selectmenu-trigger class="cursor-pointer">
          <span>
            <button class="kit-button flex items-center gap-x-2" type="button">
              <img
                alt="Моя аватарка"
                class="size-6 rounded-full bg-gray-500"
                {{#if user.avatar}}
                  src="{{ user.avatar }}"
                {{else}}
                  src="https://robohash.org/{{user.id}}"
                {{/if}}
              >
              <wc-selectmenu-indicator></wc-selectmenu-indicator>
            </button>
          </span>
        </wc-selectmenu-trigger>
      <wc-selectmenu-sheet placements="bottom,top">
        <wc-listbox>
          <wc-listitem>
            <button
              type="button"
              data-hx-post="/signout"
              data-hx-on--after-request="location.reload()"
              data-hx-trigger="click">Выйти</button>
          </wc-listitem>
        </wc-listbox>
      </wc-selectmenu-sheet>
      </wc-selectmenu>
    </div>

    {{/if}}
  </header>
  {{{ body }}}
</body>
</html>